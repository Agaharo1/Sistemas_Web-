<section class="formulario-section">
    <div class="formulario-container">
        <form action="/envios/formEditarDireccion/<%= id %>" method="POST" class="direccion-form">
            <input type="hidden" name="productoId" value="<%= id %>">
            <input type="hidden" name="direccionId" value="<%= direccion?.id %>">
            <p>
                <h2>Editar datos dirección de entrega</h2>
                <h1>Dirección de entrega</h1>
                <input 
                    type="text" 
                    id="direccion_entrega" 
                    name="direccion_entrega" 
                    required 
                    value="<%= direccion?.direccion_entrega || '' %>"
                    placeholder="Calle, número, piso..."
                    <%= direccion && direccion.punto_recogida == 1 ? 'readonly' : '' %>
                />
                <%- helpers.error(errores, 'direccion_entrega') %>
                <% if (direccion && direccion.punto_recogida == 1) { %>
                    <span style="color: #e67e22; font-weight: bold; display: block; margin-top: 8px;">
                        Esta dirección es un punto de recogida y no puede ser editada.
                    </span>
                <% } %>

                <h1>Nombre completo</h1>
                <input 
                    type="text" 
                    id="nombre" 
                    name="nombre" 
                    required 
                    value="<%= direccion?.nombre || '' %>"
                    placeholder="Tu nombre"
                />
                <%- helpers.error(errores, 'nombre') %>

                <h1>Código postal</h1>
                <input 
                    type="text" 
                    id="codigo_postal" 
                    name="codigo_postal" 
                    required 
                    value="<%= direccion?.codigo_postal || '' %>"
                    placeholder="xxxxx"
                />
                <%- helpers.error(errores, 'codigo_postal') %>

                <h1>Teléfono</h1>
                <input 
                    type="text" 
                    id="telefono" 
                    name="telefono" 
                    required 
                    value="<%= direccion?.telefono || '' %>"
                    placeholder="Tu teléfono"
                />
                <%- helpers.error(errores, 'telefono') %>

                <h1>DNI</h1>
                <input 
                    type="text" 
                    id="dni" 
                    name="dni" 
                    required 
                    value="<%= direccion?.dni || '' %>"
                    placeholder="Tu DNI"
                />
                <%- helpers.error(errores, 'dni') %>
            </p>
            <div style="text-align: center;">
                <button type="submit">Guardar cambios</button>
            </div>
        </form>
    </div>
</section>